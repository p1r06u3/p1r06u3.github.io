<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="一个信息安全从业者的博客"><meta name="keywords" content="信息安全, 网络安全, 黑客, 渗透测试, Linux安全运维, 安全开发, python"><link rel="stylesheet" type="text/css" href="//fonts.loli.net/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.5"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.5"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><title>Linux启动流程 | pirogue</title></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Linux启动流程</h1><a id="logo" href="/.">pirogue</a><p class="description">你曾听过一个地方，到达之时我们将拥有一切吗？</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="搜索"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">Linux启动流程</h1><div class="post-meta"><a href="/2017/02/07/Linux启动流程/#comments" class="comment-count"></a><p><span class="date">Feb 07, 2017</span><span><a href="/categories/安全运维/" class="category">安全运维</a></span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><p><a href="#id1">一、运行/sbin/init</a></p>
<p><a href="#id2">二、读取/etc/inittab文件</a></p>
<p><a href="#id3">三、初始化系统/etc/rc.d/rc.sysinit</a><br><a id="more"></a><br><a href="#id4">四、启动对应运行级别的守护进程(/etc/rc.d/rc—&gt;/etc/rc.d/rc*.d/)</a></p>
<p><a href="#id5">五、用户自定义引导程序（/etc/rc.d/rc.local）</a></p>
<p><a href="#id6">六、启动终端/sbin/mingetty和X-Window界面</a></p>
<p><a href="#id7">七、登录系统/bin/login</a></p>
<p><a href="#id8">八、加载/bin/bash，设置环境变量</a></p>
<h2 id="1-运行-sbin-init"><a href="#1-运行-sbin-init" class="headerlink" title="1. 运行/sbin/init"></a><a name="id1">1. 运行/sbin/init</a></h2><p>init的进程号是1，init进程是系统所有进程的起点，Linux在完成核内引导以后，就开始运行init程序，Linux启动的初始化程序，所有进程的父进程。</p>
<h2 id="2-读取-etc-inittab文件"><a href="#2-读取-etc-inittab文件" class="headerlink" title="2. 读取/etc/inittab文件"></a><a name="id2">2. 读取/etc/inittab文件</a></h2><p>init程序接着需要读取配置文件/etc/inittab。inittab是一个不可执行的文本文件，它有若干指令所组成。</p>
<p>在Rethat系统中，inittab内容如下所示：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost etc]# vi inittab    </span><br><span class="line"></span><br><span class="line">#</span><br><span class="line"># inittab       This file describes how the INIT process should set up</span><br><span class="line">#               the system in a certain run-level.</span><br><span class="line">#</span><br><span class="line"># Author:       Miquel van Smoorenburg, &lt;miquels@drinkel.nl.mugnet.org&gt;</span><br><span class="line">#</span><br><span class="line"># inittab       This file describes how the INIT process should set up</span><br><span class="line">#               the system in a certain run-level.</span><br><span class="line">#</span><br><span class="line"># Author:       Miquel van Smoorenburg, &lt;miquels@drinkel.nl.mugnet.org&gt;</span><br><span class="line">#               Modified for RHS Linux by Marc Ewing and Donnie Barnes</span><br><span class="line">#</span><br><span class="line">&lt;!--more--&gt;</span><br><span class="line"># Default runlevel. The runlevels used by RHS are:</span><br><span class="line">#   0 - halt (Do NOT set initdefault to this)</span><br><span class="line">#   1 - Single user mode</span><br><span class="line">#   2 - Multiuser, without NFS (The same as 3, if you do not have networking)</span><br><span class="line">#   3 - Full multiuser mode</span><br><span class="line">#   4 - unused</span><br><span class="line">#   5 - X11</span><br><span class="line">#   6 - reboot (Do NOT set initdefault to this)</span><br><span class="line">#</span><br><span class="line">id:5:initdefault:</span><br><span class="line"></span><br><span class="line"># System initialization.</span><br><span class="line">si::sysinit:/etc/rc.d/rc.sysinit</span><br><span class="line"></span><br><span class="line">l0:0:wait:/etc/rc.d/rc 0</span><br><span class="line">l1:1:wait:/etc/rc.d/rc 1</span><br><span class="line">l2:2:wait:/etc/rc.d/rc 2</span><br><span class="line">l3:3:wait:/etc/rc.d/rc 3</span><br><span class="line">l4:4:wait:/etc/rc.d/rc 4</span><br><span class="line">l5:5:wait:/etc/rc.d/rc 5</span><br><span class="line">l6:6:wait:/etc/rc.d/rc 6</span><br><span class="line"></span><br><span class="line"># Trap CTRL-ALT-DELETE</span><br><span class="line">ca::ctrlaltdel:/sbin/shutdown -t3 -r now</span><br><span class="line"></span><br><span class="line"># When our UPS tells us power has failed, assume we have a few minutes</span><br><span class="line"></span><br><span class="line">l0:0:wait:/etc/rc.d/rc 0</span><br><span class="line">l1:1:wait:/etc/rc.d/rc 1</span><br><span class="line">l2:2:wait:/etc/rc.d/rc 2</span><br><span class="line">l3:3:wait:/etc/rc.d/rc 3</span><br><span class="line">l4:4:wait:/etc/rc.d/rc 4</span><br><span class="line">l5:5:wait:/etc/rc.d/rc 5</span><br><span class="line">l6:6:wait:/etc/rc.d/rc 6</span><br><span class="line"></span><br><span class="line"># Trap CTRL-ALT-DELETE</span><br><span class="line">ca::ctrlaltdel:/sbin/shutdown -t3 -r now</span><br><span class="line"></span><br><span class="line"># When our UPS tells us power has failed, assume we have a few minutes</span><br><span class="line"># of power left.  Schedule a shutdown for 2 minutes from now.</span><br><span class="line"># This does, of course, assume you have powerd installed and your</span><br><span class="line"># UPS connected and working correctly.</span><br><span class="line">pf::powerfail:/sbin/shutdown -f -h +2 &quot;Power Failure; System Shutting Down&quot;</span><br><span class="line"></span><br><span class="line"># If power was restored before the shutdown kicked in, cancel it.</span><br><span class="line">pr:12345:powerokwait:/sbin/shutdown -c &quot;Power Restored; Shutdown Cancelled&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Run gettys in standard runlevels</span><br><span class="line">1:2345:respawn:/sbin/mingetty tty1</span><br><span class="line">2:2345:respawn:/sbin/mingetty tty2</span><br><span class="line">3:2345:respawn:/sbin/mingetty tty3</span><br><span class="line">4:2345:respawn:/sbin/mingetty tty4</span><br><span class="line">5:2345:respawn:/sbin/mingetty tty5</span><br><span class="line">6:2345:respawn:/sbin/mingetty tty6</span><br><span class="line"></span><br><span class="line"># Run xdm in runlevel 5</span><br><span class="line">x:5:respawn:/etc/X11/prefdm -nodaemon</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>Runlevel 0 系统停机状态，系统默认运行级别不能设为0，否则不能正常启动（关机）</p>
<p>Runlevel 1 单用户工作状态，root权限，用于系统维护，禁止远程登陆</p>
<p>Runlevel 2 多用户状态(没有NFS)</p>
<p>Runlevel 3 完全的多用户状态(有NFS)，登陆后进入控制台命令行模式（服务器默认模式）</p>
<p>Runlevel 4 系统未使用，保留</p>
<p>Runlevel 5 X11控制台，登陆后进入图形GUI模式</p>
<p>Runlevel 6 系统正常关闭并重启，默认运行级别不能设为6，否则不能正常启动（重启）</p>
</blockquote>
<h2 id="3-初始化系统-etc-rc-d-rc-sysinit"><a href="#3-初始化系统-etc-rc-d-rc-sysinit" class="headerlink" title="3. 初始化系统/etc/rc.d/rc.sysinit"></a><a name="id3">3. 初始化系统/etc/rc.d/rc.sysinit</a></h2><p>开始启动运行等级的服务前，检测与初始化系统环境，在/etc/inittab文件中有写。</p>
<p>它是一个bash shell脚本，是每一个运行级别都要首先运行的重要脚本。</p>
<p>它主要完成的工作有：<strong>激活交换分区</strong> ，<strong>检查磁盘</strong>，<strong>加载硬件模块</strong>以及其它一些需要优先执行任务。</p>
<blockquote>
<p>（1）获取网络环境与主机类型。首先会读取网络环境设置文件”/etc/sysconfig/network”，获取主机名称与默认网关等网络环境。</p>
<p>（2）测试与载入内存设备/proc及usb设备/sys。除了/proc外，系统会主动检测是否有usb设备，并主动加载usb驱动，尝试载入usb文件系统。</p>
<p>（3）决定是否启动SELinux。</p>
<p>（4）接口设备的检测与即插即用（pnp）参数的测试。</p>
<p>（5）用户自定义模块的加载。用户可以再”/etc/sysconfig/modules/*.modules”加入自定义的模块，此时会加载到系统中。</p>
<p>（6）加载核心的相关设置。按”/etc/sysctl.conf”这个文件的设置值配置功能。</p>
<p>（7）设置系统时间（clock）。</p>
<p>（8）设置终端的控制台的字形。</p>
<p>（9）设置raid及LVM等硬盘功能。</p>
<p>（10）以方式查看检验磁盘文件系统。</p>
<p>（11）进行磁盘配额quota的转换。</p>
<p>（12）重新以读取模式载入系统磁盘。</p>
<p>（13）启动quota功能。</p>
<p>（14）启动系统随机数设备（产生随机数功能）。</p>
<p>（15）清除启动过程中的临时文件。</p>
<p>（16）将启动信息加载到”/var/log/dmesg”文件中。</p>
</blockquote>
<h2 id="4-启动对应运行级别的守护进程-etc-rc-d-rc—-gt-etc-rc-d-rc-d"><a href="#4-启动对应运行级别的守护进程-etc-rc-d-rc—-gt-etc-rc-d-rc-d" class="headerlink" title="4. 启动对应运行级别的守护进程(/etc/rc.d/rc—&gt;/etc/rc.d/rc*.d/)"></a><a name="id4">4. 启动对应运行级别的守护进程(/etc/rc.d/rc—&gt;/etc/rc.d/rc*.d/)</a></h2><p>在rc.sysinit执行后，将返回init继续其它的动作，通常接下来会执行到/etc/rc.d/rc程序。以运行级别3为例，init将执行配置文件inittab中的以下这行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">l5:5:wait:/etc/rc.d/rc 5</span><br></pre></td></tr></table></figure></p>
<p>这一行表示以5为参数运行/etc/rc.d/rc，/etc/rc.d/rc是一个Shell脚本，它接受5作为参数，去执行/etc/rc.d /rc5.d/目录下的所有的rc启动脚本，/etc/rc.d/rc5.d/目录中的这些启动脚本实际上都是一些链接文件，而不是真正的rc启动脚本，真正的rc启动脚本实际上都是放在/etc/rc.d/init.d/目录下。而这些rc启动脚本有着类似的用法，它们一般能接受start、stop、 restart、status等参数。</p>
<p>/etc/rc.d/rc5.d/中的rc启动脚本通常是K或S开头的链接文件，对于以以S开头的启动脚本，将以start参数来运行。而如果发现存在相应的脚本也存在K打头的链接，而且已经处于运行态了(以/var/lock/subsys/下的文件作为标志)，则将首先以stop为参数停止这些已经启动了的守护进程，然后再重新运行。这样做是为了保证是当init改变运行级别时，所有相关的守护进程都将重启。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost rc0.d]# ls -al S01halt </span><br><span class="line">lrwxrwxrwx 1 root root 14 Jun 17  2016 S01halt -&gt; ../init.d/halt</span><br><span class="line">[root@localhost rc0.d]# runlevel</span><br><span class="line">N 5</span><br><span class="line">[root@localhost rc0.d]# vi /etc/rc.d/rc.sysinit </span><br><span class="line">[root@localhost rc0.d]# ls</span><br><span class="line">K01dnsmasq         K20nfs           K74haldaemon       K89dund</span><br><span class="line">K01smartd          K20rwhod         K74lvm2-monitor    K89hidd</span><br><span class="line">K02avahi-daemon    K24irda          K74nscd            K89iscsi</span><br><span class="line">K02avahi-dnsconfd  K25phpstudy      K74ntpd            K89iscsid</span><br><span class="line">K02NetworkManager  K25squid         K74rsyslog         K89netplugd</span><br><span class="line">K02oddjobd         K25sshd          K75netfs           K89pand</span><br><span class="line">K03yum-updatesd    K30sendmail      K85mdmonitor       K89rdisc</span><br><span class="line">K05anacron         K30spamassassin  K85mdmpd           K90bluetooth</span><br><span class="line">K05atd             K35smb           K85messagebus      K90network</span><br><span class="line">K05conman          K35vncserver     K85rpcgssd         K91capi</span><br><span class="line">K05innd            K35winbind       K85rpcidmapd       K91isdn</span><br><span class="line">K05jexec           K44rawdevices    K86nfslock         K92ip6tables</span><br><span class="line">K05saslauthd       K50netconsole    K87irqbalance      K92iptables</span><br><span class="line">K05wdaemon         K50tux           K87mcstrans        K95firstboot</span><br><span class="line">K10cups            K50vsftpd        K87multipathd      K95kudzu</span><br><span class="line">K10dc_server       K50xinetd        K87named           K99cpuspeed</span><br><span class="line">K10hplip           K60crond         K87portmap         K99microcode_ctl</span><br><span class="line">K10psacct          K69rpcsvcgssd    K87restorecond     K99readahead_early</span><br><span class="line">K10tcsd            K72autofs        K88auditd          K99readahead_later</span><br><span class="line">K10xfs             K73ipmi          K88pcscd           S00killall</span><br><span class="line">K12dc_client       K73ypbind        K88syslog          S01halt</span><br><span class="line">K15gpm             K74acpid         K88wpa_supplicant</span><br></pre></td></tr></table></figure></p>
<p>至于在每个运行级中将运行哪些守护进程，用户可以通过chkconfig或setup中的”System Services”来自行设定。</p>
<p>如何增加一个服务：</p>
<blockquote>
<p>1.服务脚本必须存放在/etc/ini.d/目录下；</p>
<p>2.chkconfig –add servicename</p>
<p>在chkconfig工具服务列表中增加此服务，此时服务会被在/etc/rc.d/rcN.d中赋予K/S入口了；</p>
<p>3.chkconfig –level 345 mysqld on<br>    修改服务的默认启动等级。</p>
</blockquote>
<p>其他使用范例：</p>
<blockquote>
<p>chkconfig –list        #列出所有的系统服务</p>
<p>chkconfig –del httpd        #删除httpd服务</p>
<p>chkconfig –list mysqld        #列出mysqld服务设置情况</p>
<p>chkconfig –level 35 mysqld on        #设定mysqld在等级3和5为开机运行服务，–level 35表示操作只在等级3和5执行，on表示启动，off表示关闭</p>
<p>chkconfig mysqld on        #设定mysqld在各等级为on，“各等级”包括2、3、4、5等级</p>
</blockquote>
<p>常见的守护进程有：</p>
<blockquote>
<p>amd：自动安装NFS守护进程</p>
<p>apmd:高级电源管理守护进程</p>
<p>arpwatch：记录日志并构建一个在LAN接口上看到的以太网地址和IP地址对数据库</p>
<p>autofs：自动安装管理进程automount，与NFS相关，依赖于NIS</p>
<p>crond：Linux下的计划任务的守护进程</p>
<p>named：DNS服务器</p>
<p>netfs：安装NFS、Samba和NetWare网络文件系统</p>
<p>network：激活已配置网络接口的脚本程序</p>
<p>nfs：打开NFS服务</p>
<p>portmap：RPC portmap管理器，它管理基于RPC服务的连接</p>
<p>sendmail：邮件服务器sendmail</p>
<p>smb：Samba文件共享/打印服务</p>
<p>syslog：一个让系统引导时起动syslog和klogd系统日志守候进程的脚本</p>
<p>xfs：X Window字型服务器，为本地和远程X服务器提供字型集</p>
<p>Xinetd：支持多种网络服务的核心守护进程，可以管理wtp、sshd、telnet等服务</p>
</blockquote>
<p>这些守护进程也启动完成了，rc程序也就执行完了，然后又将返回init继续下一步。</p>
<h2 id="5-用户自定义引导程序（-etc-rc-d-rc-local）"><a href="#5-用户自定义引导程序（-etc-rc-d-rc-local）" class="headerlink" title="5. 用户自定义引导程序（/etc/rc.d/rc.local）"></a><a name="id5">5. 用户自定义引导程序（/etc/rc.d/rc.local）</a></h2><p>一般来说，自定义的程序不需要执行上面所说的繁琐的建立shell增加链接文件的步骤，只需要将命令放在rc.local里面就可以了，这个shell脚本就是保留给用户自定义启动内容的。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# ls /etc/rc.d/</span><br><span class="line">init.d  rc  rc0.d  rc1.d  rc2.d  rc3.d  rc4.d  rc5.d  rc6.d  rc.local  rc.sysinit</span><br></pre></td></tr></table></figure>
<h2 id="6-启动终端-sbin-mingetty和X-Window界面"><a href="#6-启动终端-sbin-mingetty和X-Window界面" class="headerlink" title="6. 启动终端/sbin/mingetty和X-Window界面"></a><a name="id6">6. 启动终端/sbin/mingetty和X-Window界面</a></h2><p>rc执行完毕后，返回init。这时基本系统环境已经设置好了，各种守护进程也已经启动了。init接下来会打开6个终端，以便用户登录系统。通过按Alt+Fn(n对应1-6)可以在这6个终端中切换。在inittab中的以下6行就是定义了6个终端：</p>
<p>1:2345:respawn:/sbin/mingetty tty1</p>
<p>2:2345:respawn:/sbin/mingetty tty2</p>
<p>3:2345:respawn:/sbin/mingetty tty3</p>
<p>4:2345:respawn:/sbin/mingetty tty4</p>
<p>5:2345:respawn:/sbin/mingetty tty5</p>
<p>6:2345:respawn:/sbin/mingetty tty6</p>
<p>从上面可以看出在2、3、4、5的运行级别中都将以respawn方式运行mingetty程序，mingetty程序能打开终端、设置模式。同时它会显示一个文本登录界面，这个界面就是我们经常看到的登录界面，在这个登录界面中会提示用户输入用户名，而用户输入的用户将作为参数传给login程序来验证用户的身份。</p>
<p>除了这6个之外还会执行”/etc/X11/prefdm -nodaemon”，这个主要启动X-Window，显示一个文本登录界面，这个界面就是我们经常看到的登录界面，在这个登录界面中会提示用户输入用户名，而用户输入的用户将作为参数传给login程序来验 证用户的身份。</p>
<h2 id="7-登录系统-bin-login"><a href="#7-登录系统-bin-login" class="headerlink" title="7. 登录系统/bin/login"></a><a name="id7">7. 登录系统/bin/login</a></h2><p>Runlevel 为5的图形方式用户登录，通过图形化的登录界面输入用户名和密码登录。登录后可以直接进入KDE、Gnome等窗口管理器。</p>
<p>文本方式登录：</p>
<p>当我们看到mingetty的登录界面时，我们就可以输入用户名和密码来登录系统了。</p>
<p>Linux的账号验证程序是login，login接受mingetty传来的用户名作为用户名参数。然后login会对用户名进行分析：如果用户名 不是root，且存在/etc/nologin文件，login将输出nologin文件的内容，然后退出。这通常用来系统维护时防止非root用户登 录。只有/etc/securetty中登记了的终端才允许root用户登录，如果不存在这个文件，则root可以在任何终端上登录。/etc/usertty文件用于对用户作出附加访问限制，如果不存在这个文件，则没有其他限制。</p>
<p>在分析完用户名后，login将搜索/etc/passwd以及/etc/shadow来验证密码以及设置账户的其它信息，比如：主目录是什么、使用何种shell。如果没有指定主目录，将默认为根目录；如果没有指定shell，将默认为/bin/bash。</p>
<p>login程序登录成功后，会向对应的终端再输出最近一次登录的信息（在/var/log/lastlog中有记录），并检查用户是否有新邮件(在/usr/spool/mail/的对应用户名目录下)。</p>
<h2 id="8-加载-bin-bash，设置环境变量"><a href="#8-加载-bin-bash，设置环境变量" class="headerlink" title="8. 加载/bin/bash，设置环境变量"></a><a name="id8">8. 加载/bin/bash，设置环境变量</a></h2><blockquote>
<p>/bin/bash是人与Linux进行终端交互的程序</p>
</blockquote>
<p>/bin/login开始设置各种环境变量：对于/bin/bash来说，系统首先寻找/etc/profile脚本文件，并执行它；然后如果用户的主目录中存在.bash_profile文件，就执行它，在这些文件中又可能调用了其它配置文件，所有的配置文件执行后后，各种环境变量也设好了，这时会出现大家熟悉的命令行提示符，到此整个启动过程就结束了。</p>
<p>当系统登录成功后，系统会加载环境变量用来做实例、函数、应用支持。Linux中环境变量包括系统级和用户级，系统级的环境变量是每个登录到系统的用户都要读取的系统变量，而用户级的环境变量则是该用户使用系统时加载的环境变量。</p>
<h3 id="1）-etc-profile"><a href="#1）-etc-profile" class="headerlink" title="1）/etc/profile"></a>1）/etc/profile</h3><blockquote>
<p>bash首先执行/etc/profile脚本</p>
</blockquote>
<h3 id="2）-etc-profile-d-sh"><a href="#2）-etc-profile-d-sh" class="headerlink" title="2）/etc/profile.d/*.sh"></a>2）/etc/profile.d/*.sh</h3><blockquote>
<p>/etc/profile脚本先依次执行/etc/profile.d/*.sh</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">for i in /etc/profile.d/*.sh ; do</span><br><span class="line">    if [ -r &quot;$i&quot; ]; then</span><br><span class="line">        if [ &quot;$&#123;-#*i&#125;&quot; != &quot;$-&quot; ]; then</span><br><span class="line">            . $i</span><br><span class="line">        else</span><br><span class="line">            . $i &gt;/dev/null 2&gt;&amp;1</span><br><span class="line">        fi</span><br><span class="line">    fi</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<h3 id="3）-bash-profile"><a href="#3）-bash-profile" class="headerlink" title="3）~/.bash_profile"></a>3）~/.bash_profile</h3><blockquote>
<p>随后bash会执行~/.bash_profile脚本</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost init.d]# cat ~/.bash_profile </span><br><span class="line"># .bash_profile</span><br><span class="line"></span><br><span class="line"># Get the aliases and functions</span><br><span class="line">if [ -f ~/.bashrc ]; then</span><br><span class="line">	. ~/.bashrc</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"># User specific environment and startup programs</span><br><span class="line"></span><br><span class="line">PATH=$PATH:$HOME/bin</span><br><span class="line"></span><br><span class="line">export PATH</span><br><span class="line">unset USERNAME</span><br></pre></td></tr></table></figure>
<h3 id="4）-bashrc"><a href="#4）-bashrc" class="headerlink" title="4）~/.bashrc"></a>4）~/.bashrc</h3><blockquote>
<p>～/.bash_profile脚本会执行～/.bashrc脚本</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost init.d]# cat ~/.bash_profile </span><br><span class="line"># .bash_profile</span><br><span class="line"></span><br><span class="line"># Get the aliases and functions</span><br><span class="line">if [ -f ~/.bashrc ]; then</span><br><span class="line">	. ~/.bashrc</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"># User specific environment and startup programs</span><br><span class="line"></span><br><span class="line">PATH=$PATH:$HOME/bin</span><br><span class="line"></span><br><span class="line">export PATH</span><br><span class="line">unset USERNAME</span><br><span class="line">[root@localhost init.d]# cat ~/.bashrc </span><br><span class="line"># .bashrc</span><br><span class="line"></span><br><span class="line"># User specific aliases and functions</span><br><span class="line"></span><br><span class="line">alias rm=&apos;rm -i&apos;</span><br><span class="line">alias cp=&apos;cp -i&apos;</span><br><span class="line">alias mv=&apos;mv -i&apos;</span><br><span class="line"></span><br><span class="line"># Source global definitions</span><br><span class="line">if [ -f /etc/bashrc ]; then</span><br><span class="line">	. /etc/bashrc</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<h3 id="5）-etc-bashrc"><a href="#5）-etc-bashrc" class="headerlink" title="5）/etc/bashrc"></a>5）/etc/bashrc</h3><blockquote>
<p>～/.bashrc脚本会执行/etc/bashrc脚本</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost init.d]# cat /etc/bashrc </span><br><span class="line"># /etc/bashrc</span><br><span class="line"></span><br><span class="line"># System wide functions and aliases</span><br><span class="line"># Environment stuff goes in /etc/profile</span><br><span class="line"></span><br><span class="line"># are we an interactive shell?</span><br><span class="line">if [ &quot;$PS1&quot; ]; then</span><br><span class="line">  if [ -z &quot;$PROMPT_COMMAND&quot; ]; then</span><br><span class="line">    case $TERM in</span><br><span class="line">	xterm*)</span><br><span class="line">		if [ -e /etc/sysconfig/bash-prompt-xterm ]; then</span><br><span class="line">			PROMPT_COMMAND=/etc/sysconfig/bash-prompt-xterm</span><br><span class="line">		else</span><br><span class="line">            PROMPT_COMMAND=&apos;printf &quot;\033]0;%s@%s:%s\007&quot; &quot;$&#123;USER&#125;&quot; &quot;$&#123;HOSTNAME%%.*&#125;&quot; &quot;$&#123;PWD/#$HOME/~&#125;&quot;&apos;</span><br><span class="line">		fi</span><br><span class="line">		;;</span><br><span class="line">	screen)</span><br><span class="line">		if [ -e /etc/sysconfig/bash-prompt-screen ]; then</span><br><span class="line">			PROMPT_COMMAND=/etc/sysconfig/bash-prompt-screen</span><br><span class="line">		else</span><br><span class="line">            PROMPT_COMMAND=&apos;printf &quot;\033]0;%s@%s:%s\033\\&quot; &quot;$&#123;USER&#125;&quot; &quot;$&#123;HOSTNAME%%.*&#125;&quot; &quot;$&#123;PWD/#$HOME/~&#125;&quot;&apos;</span><br><span class="line">		fi</span><br><span class="line">		;;</span><br><span class="line">	*)</span><br><span class="line">		[ -e /etc/sysconfig/bash-prompt-default ] &amp;&amp; PROMPT_COMMAND=/etc/sysconfig/bash-prompt-default</span><br><span class="line">	    ;;</span><br><span class="line">    esac</span><br><span class="line">  fi</span><br><span class="line">  # Turn on checkwinsize</span><br><span class="line">  shopt -s checkwinsize</span><br><span class="line">  [ &quot;$PS1&quot; = &quot;\\s-\\v\\\$ &quot; ] &amp;&amp; PS1=&quot;[\u@\h \W]\\$ &quot;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if ! shopt -q login_shell ; then # We&apos;re not a login shell</span><br><span class="line">	# Need to redefine pathmunge, it get&apos;s undefined at the end of /etc/profile</span><br><span class="line">    pathmunge () &#123;</span><br><span class="line">		if ! echo $PATH | /bin/egrep -q &quot;(^|:)$1($|:)&quot; ; then</span><br><span class="line">			if [ &quot;$2&quot; = &quot;after&quot; ] ; then</span><br><span class="line">				PATH=$PATH:$1</span><br><span class="line">			else</span><br><span class="line">				PATH=$1:$PATH</span><br><span class="line">			fi</span><br><span class="line">		fi</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    # By default, we want umask to get set. This sets it for non-login shell.</span><br><span class="line">    # You could check uidgid reservation validity in</span><br><span class="line">    # /usr/share/doc/setup-*/uidgid file</span><br><span class="line">    if [ $UID -gt 99 ] &amp;&amp; [ &quot;`id -gn`&quot; = &quot;`id -un`&quot; ]; then</span><br><span class="line">       umask 002</span><br><span class="line">    else</span><br><span class="line">       umask 022</span><br><span class="line">    fi</span><br><span class="line"></span><br><span class="line">	# Only display echos from profile.d scripts if we are no login shell</span><br><span class="line">    # and interactive - otherwise just process them to set envvars</span><br><span class="line">    for i in /etc/profile.d/*.sh; do</span><br><span class="line">        if [ -r &quot;$i&quot; ]; then</span><br><span class="line">            if [ &quot;$PS1&quot; ]; then</span><br><span class="line">                . $i</span><br><span class="line">            else</span><br><span class="line">                . $i &gt;/dev/null 2&gt;&amp;1</span><br><span class="line">            fi</span><br><span class="line">        fi</span><br><span class="line">    done</span><br><span class="line"></span><br><span class="line">	unset i</span><br><span class="line">	unset pathmunge</span><br><span class="line">fi</span><br><span class="line"># vim:ts=4:sw=4</span><br></pre></td></tr></table></figure>
<p>实际上bash只执行了/etc/profile脚本，其他的脚本都是一个包含一个进行模块调用执行</p>
<p>/etc/profile是全局用户登录后的初始化环境变量的脚本（所有用户，需要重启生效）</p>
<p>/etc/bashrc是每一个用户bash的全局初始化脚本</p>
<p>在/sbin/mingetty终端启动成功后，/bin/login进行验证登录，登录成功后使用bash或sh或其他的shell取决于/etc/passwd中的配置</p>
<p>~/.bash_profile（需重启生效）和~/.bashrc是当前用户终端会话的环境变量（当前用户）</p>
<blockquote>
<p>~/.bash_profile 是交互式、login 方式进入bash 运行的；</p>
<p>~/.bashrc 是交互式 non-login 方式进入bash 运行的；</p>
<p>通常二者设置大致相同，所以通常前者会调用后者。</p>
</blockquote>
<hr>
</div><div class="post-copyright"><blockquote><p>原文作者: pirogue</p><p>原文链接: <a href="http://pirogue.org/2017/02/07/Linux启动流程/">http://pirogue.org/2017/02/07/Linux启动流程/</a></p><p>版权声明: 转载请注明出处(必须保留作者署名及链接)</p></blockquote></div><div class="tags"><a href="/tags/Linux/">Linux</a><a href="/tags/系统/">系统</a><a href="/tags/运维/">运维</a><a href="/tags/启动流程/">启动流程</a></div><div class="post-share"><div class="social-share"><span>分享到:</span></div></div><div class="post-nav"><a href="/2017/02/08/Linux启动服务配置文件的作用和流程/" class="pre">Linux启动服务配置文件的作用和流程</a></div><div id="comments"><script src="//cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js"></script><div id="comment"></div><script type="text/javascript">new Valine({
  el: '#comment',  
  notify: false, 
  verify: false, 
  app_id: 'LxlH8totxFLNwkT4nTy2ccay-gzGzoHsz',
  appKey: 'Pzf3CsqHnjhKJryLexrAy45U',
  // 评论框占位符
  placeholder: 'ヾﾉ≧∀≦)o来啊，快活啊!',  
  // 当前文章页路径，用于区分不同的文章页，以保证正确读取该文章页下的评论列表
  path:window.location.pathname,  
  // 默认头像类型
  avatar: 'wavatar',
  // 每页展示评论条数
  pageSize: 15
});</script></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-运行-sbin-init"><span class="toc-text">1. 运行/sbin/init</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-读取-etc-inittab文件"><span class="toc-text">2. 读取/etc/inittab文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-初始化系统-etc-rc-d-rc-sysinit"><span class="toc-text">3. 初始化系统/etc/rc.d/rc.sysinit</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-启动对应运行级别的守护进程-etc-rc-d-rc—-gt-etc-rc-d-rc-d"><span class="toc-text">4. 启动对应运行级别的守护进程(/etc/rc.d/rc—&gt;/etc/rc.d/rc*.d/)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-用户自定义引导程序（-etc-rc-d-rc-local）"><span class="toc-text">5. 用户自定义引导程序（/etc/rc.d/rc.local）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-启动终端-sbin-mingetty和X-Window界面"><span class="toc-text">6. 启动终端/sbin/mingetty和X-Window界面</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-登录系统-bin-login"><span class="toc-text">7. 登录系统/bin/login</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-加载-bin-bash，设置环境变量"><span class="toc-text">8. 加载/bin/bash，设置环境变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1）-etc-profile"><span class="toc-text">1）/etc/profile</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2）-etc-profile-d-sh"><span class="toc-text">2）/etc/profile.d/*.sh</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3）-bash-profile"><span class="toc-text">3）~/.bash_profile</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4）-bashrc"><span class="toc-text">4）~/.bashrc</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5）-etc-bashrc"><span class="toc-text">5）/etc/bashrc</span></a></li></ol></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2020/12/14/bacscanner/">越权扫描器碎碎念</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/06/24/quant/">币圈量化交易试水</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/02/22/golangxml/">被动扫描器研发（1）：golang生成cdata xml格式数据</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/06/17/awvs/">awvs（12.0.190515149）linux 安装和破解</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/15/opencanary_2/">opencanary二次开发(1)-日志格式</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/09/opencanary_1/">蜜罐正式开源-简单易用-支持16种协议</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/17/SPA/">前后端分离开发风险浅析</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/14/异地恋/">异地恋</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/26/phishing/">甲方企业安全建设之钓鱼实践的一种姿势</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/20/yulong-hids/">驭龙hids入侵检测功能初探</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/安全建设/">安全建设</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/安全开发/">安全开发</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/安全运维/">安全运维</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作生活/">工作生活</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/渗透测试/">渗透测试</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/诗和远方/">诗和远方</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/量化交易/">量化交易</a><span class="category-list-count">1</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/Phishing/" style="font-size: 15px;">Phishing</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/运维/" style="font-size: 15px;">运维</a> <a href="/tags/审计策略/" style="font-size: 15px;">审计策略</a> <a href="/tags/安全建设/" style="font-size: 15px;">安全建设</a> <a href="/tags/甲方安全/" style="font-size: 15px;">甲方安全</a> <a href="/tags/前后端分离/" style="font-size: 15px;">前后端分离</a> <a href="/tags/开发/" style="font-size: 15px;">开发</a> <a href="/tags/架构/" style="font-size: 15px;">架构</a> <a href="/tags/渗透测试/" style="font-size: 15px;">渗透测试</a> <a href="/tags/文件上传漏洞/" style="font-size: 15px;">文件上传漏洞</a> <a href="/tags/阿里云OSS/" style="font-size: 15px;">阿里云OSS</a> <a href="/tags/awvs/" style="font-size: 15px;">awvs</a> <a href="/tags/漏洞扫描器/" style="font-size: 15px;">漏洞扫描器</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/多线程/" style="font-size: 15px;">多线程</a> <a href="/tags/回调函数/" style="font-size: 15px;">回调函数</a> <a href="/tags/脏牛/" style="font-size: 15px;">脏牛</a> <a href="/tags/dirtycow/" style="font-size: 15px;">dirtycow</a> <a href="/tags/CVE-2016-5195/" style="font-size: 15px;">CVE-2016-5195</a> <a href="/tags/博客/" style="font-size: 15px;">博客</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a> <a href="/tags/留言板/" style="font-size: 15px;">留言板</a> <a href="/tags/CVE-2017-7525/" style="font-size: 15px;">CVE-2017-7525</a> <a href="/tags/CVE-2017-17485/" style="font-size: 15px;">CVE-2017-17485</a> <a href="/tags/Jackson-databind反序列化漏洞/" style="font-size: 15px;">Jackson-databind反序列化漏洞</a> <a href="/tags/安全分析/" style="font-size: 15px;">安全分析</a> <a href="/tags/蜜罐/" style="font-size: 15px;">蜜罐</a> <a href="/tags/开源/" style="font-size: 15px;">开源</a> <a href="/tags/opencanary/" style="font-size: 15px;">opencanary</a> <a href="/tags/OSS对象存储/" style="font-size: 15px;">OSS对象存储</a> <a href="/tags/上传漏洞/" style="font-size: 15px;">上传漏洞</a> <a href="/tags/解析漏洞/" style="font-size: 15px;">解析漏洞</a> <a href="/tags/漏洞预警/" style="font-size: 15px;">漏洞预警</a> <a href="/tags/截屏/" style="font-size: 15px;">截屏</a> <a href="/tags/python/" style="font-size: 15px;">python</a> <a href="/tags/信息安全/" style="font-size: 15px;">信息安全</a> <a href="/tags/黑客/" style="font-size: 15px;">黑客</a> <a href="/tags/信息收集/" style="font-size: 15px;">信息收集</a> <a href="/tags/系统/" style="font-size: 15px;">系统</a> <a href="/tags/钓鱼/" style="font-size: 15px;">钓鱼</a> <a href="/tags/poster模块/" style="font-size: 15px;">poster模块</a> <a href="/tags/上传/" style="font-size: 15px;">上传</a> <a href="/tags/xss/" style="font-size: 15px;">xss</a> <a href="/tags/QQ邮箱/" style="font-size: 15px;">QQ邮箱</a> <a href="/tags/ssrf/" style="font-size: 15px;">ssrf</a> <a href="/tags/w3af/" style="font-size: 15px;">w3af</a> <a href="/tags/诗歌/" style="font-size: 15px;">诗歌</a> <a href="/tags/配置文件/" style="font-size: 15px;">配置文件</a> <a href="/tags/xml/" style="font-size: 15px;">xml</a> <a href="/tags/cdata/" style="font-size: 15px;">cdata</a> <a href="/tags/burpsuite/" style="font-size: 15px;">burpsuite</a> <a href="/tags/golang/" style="font-size: 15px;">golang</a> <a href="/tags/二次开发/" style="font-size: 15px;">二次开发</a> <a href="/tags/btc/" style="font-size: 15px;">btc</a> <a href="/tags/量化交易/" style="font-size: 15px;">量化交易</a> <a href="/tags/CVE-2017-10271/" style="font-size: 15px;">CVE-2017-10271</a> <a href="/tags/java反序列化/" style="font-size: 15px;">java反序列化</a> <a href="/tags/weblogic反序列化漏洞/" style="font-size: 15px;">weblogic反序列化漏洞</a> <a href="/tags/XMLDecoder反序列化漏洞/" style="font-size: 15px;">XMLDecoder反序列化漏洞</a> <a href="/tags/工作生活/" style="font-size: 15px;">工作生活</a> <a href="/tags/乙方安全/" style="font-size: 15px;">乙方安全</a> <a href="/tags/启动流程/" style="font-size: 15px;">启动流程</a> <a href="/tags/账户管理/" style="font-size: 15px;">账户管理</a> <a href="/tags/tornado/" style="font-size: 15px;">tornado</a> <a href="/tags/Web自动化攻击平台/" style="font-size: 15px;">Web自动化攻击平台</a> <a href="/tags/Apache-Commons-Collections/" style="font-size: 15px;">Apache Commons Collections</a> <a href="/tags/反弹shell/" style="font-size: 15px;">反弹shell</a> <a href="/tags/安全监控/" style="font-size: 15px;">安全监控</a> <a href="/tags/exp/" style="font-size: 15px;">exp</a> <a href="/tags/Struts2/" style="font-size: 15px;">Struts2</a> <a href="/tags/网络安全/" style="font-size: 15px;">网络安全</a> <a href="/tags/hids/" style="font-size: 15px;">hids</a> <a href="/tags/驭龙hids/" style="font-size: 15px;">驭龙hids</a> <a href="/tags/安全开发/" style="font-size: 15px;">安全开发</a> <a href="/tags/越权/" style="font-size: 15px;">越权</a> <a href="/tags/扫描器/" style="font-size: 15px;">扫描器</a> <a href="/tags/Wazuh/" style="font-size: 15px;">Wazuh</a> <a href="/tags/ELK/" style="font-size: 15px;">ELK</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/">2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/">2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/">2018</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/">2017</a><span class="archive-list-count">20</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="http://www.0x001.com/" title="0x001" target="_blank">0x001</a><ul></ul><a href="http://ksowo.com/" title="lyy" target="_blank">lyy</a><ul></ul><a href="http://xxlegend.com/" title="xxlegend" target="_blank">xxlegend</a><ul></ul><a href="https://bl4ck.in/" title="Tomato" target="_blank">Tomato</a><ul></ul><a href="https://my.oschina.net/9199771" title="超级大黑猫" target="_blank">超级大黑猫</a><ul></ul><a href="https://www.weiho.xyz/" title="Weiho" target="_blank">Weiho</a><ul></ul><a href="https://www.maliciouskr.cc/" title="MaliciousKr" target="_blank">MaliciousKr</a><ul></ul><a href="http://www.lshack.cn/" title="lsh4ck's blog" target="_blank">lsh4ck's blog</a><ul></ul><a href="https://www.0x002.com" title="Yunen's blog" target="_blank">Yunen's blog</a><ul></ul><a href="https://www.dp2px.com/" title="水寒的博客" target="_blank">水寒的博客</a><ul></ul><a href="https://www.pa55w0rd.online/" title="Pa55w0rd's blog" target="_blank">Pa55w0rd's blog</a><ul></ul><a href="http://www.mianhuage.com/" title="Cotton's Blog" target="_blank">Cotton's Blog</a><ul></ul><a href="https://zgao.top/" title="zgao" target="_blank">zgao</a><ul></ul><a href="http://lab.orchina.org/" title="糖果的实验室" target="_blank">糖果的实验室</a><ul></ul><a href="https://www.ms17010.net/" title="yd" target="_blank">yd</a><ul></ul><a href="http://blog.leanote.com/snowming" title="snowming" target="_blank">snowming</a><ul></ul><a href="https://www.cnblogs.com/ssooking" title="ssooking" target="_blank">ssooking</a><br>
<br>
『将定期清理无法访问的友情链接』</div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">网站地图</a> |  <a href="/atom.xml">订阅本站</a> |  <a href="/about/">联系博主</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次，本站总访客数:<i id="busuanzi_container_site_uv"><i id="busuanzi_value_site_uv"></i></i>人</p><p><span> Copyright &copy;<a href="/." rel="nofollow">pirogue.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-92976027-1','auto');ga('send','pageview');
</script><script type="text/javascript" src="/js/search.json.js?v=2.0.5"></script><div id="fullscreen-img" class="hide"><span class="close"></span></div><script type="text/javascript" src="/js/imgview.js?v=2.0.5" async></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.5" async></script><link rel="stylesheet" type="text/css" href="/share/css/share.css"><script type="text/javascript" src="/share/js/social-share.js" charset="utf-8"></script><script type="text/javascript" src="/share/js/qrcode.js" charset="utf-8"></script></body></html>